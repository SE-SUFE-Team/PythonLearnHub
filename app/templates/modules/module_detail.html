{% extends "base.html" %}

{% block title %}{{ module_info.title }} - PythonÂ≠¶‰π†Âπ≥Âè∞{% endblock %}

{% block content %}
<div class="container-fluid">
    <!-- Ê®°ÂùóÂ§¥ÈÉ® -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card border-primary">
                <div class="card-header bg-primary text-white">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h2 class="mb-0">
                                <i class="fas fa-{{ module_info.icon.replace('üìä', 'chart-bar').replace('üìù', 'edit').replace('üì¶', 'box').replace('üìã', 'list').replace('üîÑ', 'sync').replace('üîß', 'tools').replace('‚ö†Ô∏è', 'exclamation-triangle').replace('üìÅ', 'folder').replace('üîç', 'search') }}"></i>
                                {{ module_info.title }}
                            </h2>
                            <p class="mb-0 mt-2">{{ module_info.description }}</p>
                        </div>
                        <div class="text-end">
                            <span class="badge bg-light text-dark fs-6">
                                {{ module_info.difficulty }}
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ê®°ÂùóÂÜÖÂÆπ -->
    <div class="row">
        <!-- Â∑¶‰æßÂØºËà™ -->
        <div class="col-md-3">
            <div class="card">
                <div class="card-header">
                    <h6 class="mb-0"><i class="fas fa-list"></i> Â≠¶‰π†ÂÜÖÂÆπ</h6>
                </div>
                <div class="card-body p-0">
                    <div class="list-group list-group-flush">
                        {% if module_id == 'variables' %}
                            {% for topic_id, topic_data in module.topics.items() %}
                            <a href="#topic-{{ topic_id }}" 
                               class="list-group-item list-group-item-action" 
                               onclick="event.preventDefault(); document.getElementById('topic-{{ topic_id }}').scrollIntoView({behavior: 'smooth'});">
                                <i class="fas fa-play-circle text-primary me-2"></i>
                                {{ topic_data.title }}
                            </a>
                            {% endfor %}
                        {% elif module_id == 'strings' %}
                            {% for category_key, category_name in module.categories.items() %}
                            <a href="#category-{{ category_key }}" 
                               class="list-group-item list-group-item-action" 
                               onclick="event.preventDefault(); document.getElementById('category-{{ category_key }}').scrollIntoView({behavior: 'smooth'});">
                                <i class="fas fa-play-circle text-primary me-2"></i>
                                {{ category_name }}
                            </a>
                            {% endfor %}
                        {% elif module_id == 'tuples' %}
                            {% for example_id, example_data in module.examples.items() %}
                            <a href="#topic-{{ example_id }}" 
                               class="list-group-item list-group-item-action" 
                               onclick="event.preventDefault(); document.getElementById('topic-{{ example_id }}').scrollIntoView({behavior: 'smooth'});">
                                <i class="fas fa-play-circle text-primary me-2"></i>
                                {{ example_data.title }}
                            </a>
                            {% endfor %}
                        {% elif module_id == 'lists' %}
                            {% for topic_id, topic_data in module.topics.items() %}
                            <a href="#topic-{{ topic_id }}" 
                               class="list-group-item list-group-item-action" 
                               onclick="event.preventDefault(); document.getElementById('topic-{{ topic_id }}').scrollIntoView({behavior: 'smooth'});">
                                <i class="fas fa-play-circle text-primary me-2"></i>
                                {{ topic_data.title }}
                            </a>
                            {% endfor %}
                        {% elif module_id == 'flow_control' %}
                            {% for topic_id, topic_data in module.items() %}
                                {% if topic_data.title %}
                                <a href="#topic-{{ topic_id }}" 
                                   class="list-group-item list-group-item-action" 
                                   onclick="event.preventDefault(); document.getElementById('topic-{{ topic_id }}').scrollIntoView({behavior: 'smooth'});">
                                    <i class="fas fa-play-circle text-primary me-2"></i>
                                    {{ topic_data.title }}
                                </a>
                                {% endif %}
                            {% endfor %}
                        {% elif module_id == 'functions' %}
                            {% for example in module.examples %}
                            <a href="#example-{{ loop.index }}" 
                               class="list-group-item list-group-item-action" 
                               onclick="event.preventDefault(); document.getElementById('example-{{ loop.index }}').scrollIntoView({behavior: 'smooth'});">
                                <i class="fas fa-play-circle text-primary me-2"></i>
                                {{ example.title }}
                            </a>
                            {% endfor %}
                        {% elif module_id == 'exceptions' %}
                            <a href="#exception-examples" 
                               class="list-group-item list-group-item-action" 
                               onclick="event.preventDefault(); document.getElementById('exception-examples').scrollIntoView({behavior: 'smooth'});">
                                <i class="fas fa-play-circle text-primary me-2"></i>
                                ÂºÇÂ∏∏Â§ÑÁêÜÁ§∫‰æã
                            </a>
                            <a href="#assertion-examples" 
                               class="list-group-item list-group-item-action" 
                               onclick="event.preventDefault(); document.getElementById('assertion-examples').scrollIntoView({behavior: 'smooth'});">
                                <i class="fas fa-play-circle text-primary me-2"></i>
                                Êñ≠Ë®ÄÁ§∫‰æã
                            </a>
                        {% elif module_id == 'files' %}
                            <a href="#files-text-operations" 
                               class="list-group-item list-group-item-action" 
                               onclick="event.preventDefault(); document.getElementById('files-text-operations').scrollIntoView({behavior: 'smooth'});">
                                <i class="fas fa-play-circle text-primary me-2"></i>
                                ÊñáÊú¨Êìç‰Ωú
                            </a>
                            {% if module.examples %}
                                {% for example in module.examples %}
                                <a href="#files-example-{{ loop.index }}" 
                                   class="list-group-item list-group-item-action" 
                                   onclick="event.preventDefault(); document.getElementById('files-example-{{ loop.index }}').scrollIntoView({behavior: 'smooth'});">
                                    <i class="fas fa-play-circle text-primary me-2"></i>
                                    {{ example.title }}
                                </a>
                                {% endfor %}
                            {% endif %}
                        {% elif module_id == 'regex' %}
                            <a href="#regex-test" 
                               class="list-group-item list-group-item-action" 
                               onclick="event.preventDefault(); document.getElementById('regex-test').scrollIntoView({behavior: 'smooth'});">
                                <i class="fas fa-play-circle text-primary me-2"></i>
                                Ê≠£ÂàôË°®ËææÂºèÊµãËØï
                            </a>
                            {% if module.examples %}
                                {% for example in module.examples %}
                                <a href="#regex-example-{{ loop.index }}" 
                                   class="list-group-item list-group-item-action" 
                                   onclick="event.preventDefault(); document.getElementById('regex-example-{{ loop.index }}').scrollIntoView({behavior: 'smooth'});">
                                    <i class="fas fa-play-circle text-primary me-2"></i>
                                    {{ example.title }}
                                </a>
                                {% endfor %}
                            {% endif %}
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>

        <!-- Âè≥‰æßÂÜÖÂÆπ -->
        <div class="col-md-9">
            {% if module_id == 'variables' %}
                {% include 'modules/variables_content.html' %}
            {% elif module_id == 'strings' %}
                {% include 'modules/strings_content.html' %}
            {% elif module_id == 'tuples' %}
                {% include 'modules/tuples_content.html' %}
            {% elif module_id == 'lists' %}
                {% include 'modules/lists_content.html' %}
            {% elif module_id == 'flow_control' %}
                {% include 'modules/flow_control_content.html' %}
            {% elif module_id == 'functions' %}
                {% include 'modules/functions_content.html' %}
            {% elif module_id == 'exceptions' %}
                {% include 'modules/exceptions_content.html' %}
            {% elif module_id == 'files' %}
                {% include 'modules/files_content.html' %}
            {% elif module_id == 'regex' %}
                {% include 'modules/regex_content.html' %}
            {% else %}
                <div class="card">
                    <div class="card-body">
                        <h5>Ê®°ÂùóÂÜÖÂÆπ</h5>
                        <p>ËØ•Ê®°ÂùóÁöÑÂÜÖÂÆπÊ≠£Âú®ÂºÄÂèë‰∏≠...</p>
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
// ÊâÄÊúâÊªöÂä®ÂäüËÉΩÁé∞Âú®ÈÉΩ‰ΩøÁî®ÂÜÖËÅîJavaScriptÔºåËøôÈáå‰∏çÂÜçÈúÄË¶ÅÈ¢ùÂ§ñÁöÑÂáΩÊï∞
</script>
{% endblock %}
